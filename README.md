# escape_game
このリポジトリには、卒論で作成中の3D脱出ゲームで使用しているスクリプトをまとめています。
- 開発環境：Unity 2022.6000.0.46f1
- 使用言語：c#

## ゲーム全体
- PlayerController.cs...プレイヤーの位置保存・復元、ポーズ画面等
- Gate.cs...次のステージへ行くためのゲート。接触することで移動可能。
- OutlineController.cs...オブジェクトにアウトラインを生成する処理
- ItemManager.cs...アイテムの取得処理
- ItemUsePoint.cs...アイテムの使用可能な場所を設定
- BookController.cs...本をクリックした際に表示されるCanvasのUI関連処理

## Player関連
- PlayerController.cs...プレイヤーの移動処理
- camera.cs...一人称（FPS）視点のカメラ処理

## MiniGame
- teaCupGimmick.cs...ティーカップをモチーフにした謎解き用ミニゲーム
>- 5×5のマス目上に置かれた4つのティーカップを、それぞれ指定した位置に移動したらクリア
>- ティーカップは押した進行方向に向かって真っすぐ進む
>- 他のカップと衝突するか、マスの端まで行くと止まる（衝突するまでは真っすぐ進み続ける）
>- 他のティーカップを駆使して、衝突させることで希望の場所まで運ぶ
>- どのティーカップから指定の場所へ移動させるかが重要
>- リセットボタンに触れることでティーカップを元の位置に戻すことができる
>- ResetButton.csでティーカップの位置をリセット

- IceCreamGimmick.cs...アイスクリームをモチーフにした謎解き用ミニゲーム
>- アイスを正しい順番で移動したらクリア
>- スイッチを押すことでアイスを出現させ、コーンの上に重ねていく
>- アイスは4個まで重ねることができる
>- 誤った順番の際に、5個目を重ねようとするとアイスがリセットされる。

- CupCakeGimmick.cs...カップケーキをモチーフにした謎解き用ミニゲーム現在制作中）
>- モグラたたきをカップケーキに置き換えたもの
>- 視点移動のみでカップケーキをたたく
>- 一定の得点以上を取得したらクリア
>- 得点が足りなかったらリトライ

## シーン遷移関連
- ObjectState.cs...オブジェクトの位置情報を保存するアセット作成用
- ObjectStateManager.cs...オブジェクト情報をアセットへ登録・取り出し処理
- PrefabStateRestorer.cs...プレハブオブジェクトの生成・位置復元処理
